var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,r=(t,n,o)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,a=(e,a)=>{for(var c in a||(a={}))t.call(a,c)&&r(e,c,a[c]);if(n)for(var c of n(a))o.call(a,c)&&r(e,c,a[c]);return e};import{c,d as l,a as i,b as s,u,r as d,g as m,e as h,f as p,l as g,h as f,i as y,j as b,k as E,R as _,L as C,T as S,P as w,B as k,I as v,A as M,m as T,S as I,n as O,F as L,E as D,o as x,p as z,q as j,s as P,t as A,v as U,M as V,w as F,x as N,y as R,z as $,C as B,D as H,G as W,H as K,J as G}from"./vendor.6238d0f8.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const o=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,a)=>{const c=new URL(e,o);if(self[t].moduleMap[c])return n(self[t].moduleMap[c]);const l=new Blob([`import * as m from '${c}';`,`${t}.moduleMap['${c}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(l),onerror(){a(new Error(`Failed to import: ${e}`)),r(i)},onload(){n(self[t].moduleMap[c]),r(i)}});document.head.appendChild(i)})),self[t].moduleMap={}}}("assets/");const q="DemoModel",J="DemoCloned",X="Counter";function Y(e,t){window.document&&window.document.documentElement.style.setProperty(e,t)}function Q(e,t=.8){return new c(e).lighten(t).hex()}function Z(e){!function(e){Y("--theme-color",e)}(e);const t=Q(e);return function(e){Y("--theme-color-light",e)}(t),{themeColor:e,themeColorLight:t}}var ee=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",toggleSiderVisible:function(e,t){return{siderVisible:!t.siderVisible}},changeThemeColor:Z,switchSiderTheme:function(e,t){return{siderTheme:e?"dark":"light"}},switchHeaderTheme:function(e,t){return{headerTheme:e?"dark":"light"}},changeIsInnerMock:function(e,t){return{isInnerMock:e}},prepareApp:async function(){const e=await Promise.resolve({user:"hi concent pro",icon:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3662109890,1098716941&fm=15&gp=0.jpg",isAdmin:!0});return{userName:e.user,uesrIcon:e.icon,isAdmin:e.isAdmin,isAppReady:!0}}});const te=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",DEMO:"/demo",DEMO_USE_SETUP:"/demo-use-setup"}),ne=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",siderWidth:200,siderWidthPx:"200px",buttomBgColor:"#f0f2f5",contentBgColor:"#fff",webHeaderImg:"https://raw.githubusercontent.com/fantasticsoul/assets/master/c2pro/c2pro-banner.png",img404:"404_img_url",img403:"403_img_url"});var oe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",contentLayoutStyle:function(e){const t="calc(100vh - 120px)";return e.siderVisible?{marginLeft:ne.siderWidthPx,minHeight:t}:{marginLeft:"0",minHeight:t}},headerStyle:function(e){const{headerTheme:t,themeColor:n,siderVisible:o}=e,r={marginLeft:"",color:"",backgroundColor:""};return r.marginLeft=o?ne.siderWidthPx:"0",r.color="dark"===t?"white":n,r.backgroundColor="dark"===t?"black":"white",r},siderIconDes:function(e){return e.siderVisible?"left":"right"},siderThemeSwitchChecked:function(e){const{siderTheme:t}=e;return"dark"===t},headerThemeSwitchChecked:function(e){const{headerTheme:t}=e;return"dark"===t}});function re(){return window._staffList||[]}function ae(e){if(0===e.length)return re().slice(0,10);if(e.length<2)return[];const t=new RegExp(`^${e}`);return re().filter((e=>{const[n]=e;return t.test(n)})).slice(0,10)}l(ae,300);var ce=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",loaded:function(e,t){const{themeColor:n}=t;e(Z,n),window._staffList=[["jack","jack(Beijing)"],["mark","mark(Beijing)"],["zzk","zzk(NewYork)"],["hi concent","concent(Landon)"],["hi concent2","concent(Beijing)"],["hi concent3","concent(ShangHai)"]]}}),le={[i.MODULE_GLOBAL]:{state:function(){const e="#025232";return{siderVisible:!0,siderTheme:"dark",headerTheme:"dark",themeColor:e,themeColorLight:Q(e),someInfo:"overWrite built-in module global's state",isAppReady:!1,userName:"",uesrIcon:"",isAdmin:!1,isInnerMock:!0,innerMockApis:["get /api/todo/list"]}},reducer:ee,computed:oe,lifecycle:ce}};let ie;const se={},ue=function(e,t){if(!t)return e();if(void 0===ie){const e=document.createElement("link").relList;ie=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in se)return;se[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":ie,t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((e,t)=>{o.addEventListener("load",e),o.addEventListener("error",t)})):void 0}))).then((()=>e()))},de={},me=["info","error","success","warn","warning"];function he(e,t,n,o,r){if(!me.includes(e))return console.error(`messageService call invalid method[${e}]`),t("ignored");if(r<0)return t(s[e](n,o));const a=`${e}_${n}`;if(de[a])return t("ignored");de[a]=setTimeout((()=>{delete de[a]}),r),t(s[e](n,o))}function pe(e,t=3,n=1200){return new Promise((o=>{he("error",o,e,t,n)}))}function ge(e,t=3,n=1200){return new Promise((o=>{he("warn",o,e,t,n)}))}function fe(e){return Object.keys(e)}function ye(e,t=!0){return!!e&&(t?"object"==typeof e:"object"==typeof e&&!Array.isArray(e))}function be(e,t,n){try{return JSON.parse(e)}catch(o){if(t)return t;if(n)throw new Error(n);throw o}}function Ee(e,t={}){const{nullValues:n=[null,void 0,""],checkObjValues:o=!1,emptyObjIsNull:r=!0,emptyArrIsNull:a=!0}=t;if(n.includes(e))return!0;if(Array.isArray(e))return!!a&&0===e.length;if("object"==typeof e){const t=fe(e),n=t.length;if(o){let o=!0;for(let r=0;r<n;r++){if(!Ee(e[t[r]])){o=!1;break}}return o}return!!r&&0===n}return!1}function _e(e,t){return function(e){const t=(e,n,o)=>{const r=fe(e),a=n+1;for(let c=0;c<r.length;c++){const n=e[r[c]];ye(n)&&(o.num<a&&(o.num=a),t(n,a,o))}},n={num:1};return t(e,1,n),n.num}(e)>t}function Ce(e,t,n){const o=n||{},{setup:r,tag:a,extra:c,staticExtra:l,cuDesc:i,passCuDesc:s=!0,props:u={},ccClassKey:d}=o,m={module:e,connect:t,setup:r,props:u,tag:a,extra:c,staticExtra:l,cuDesc:null};return s&&(m.cuDesc=i),{regOpt:m,ccClassKey:d}}async function Se(e,t){try{if(Array.isArray(e)){const[n,o]=e;await t.dispatch(n,o)}else{const{fnName:n,payload:o,renderKey:r,delay:a}=e;await t.dispatch(n,o,r,a)}}catch(n){alert(n.message)}}function we(e,t){const{regOpt:n,ccClassKey:o}=Ce(e,[],t);return u(n,o)}function ke(e,t){const n=a({setup:e},t),{regOpt:o,ccClassKey:r}=Ce(i.MODULE_DEFAULT,[],n),{settings:c}=u(o,r);return c}const ve=d;function Me(e){return e.on}h.setConfig({retryCount:3,timeout:5e4});const Te={headers:{"Content-Type":"application/json"},withCredentials:!0,mockData:null};function Ie(e={}){const{returnLogicData:r,defaultValue:a="",check:c=!0,alertErrorMsg:l=!0,failStrategy:i=h.const.KEEP_ALL_BEEN_EXECUTED}=e,s=((e,r)=>{var a={};for(var c in e)t.call(e,c)&&r.indexOf(c)<0&&(a[c]=e[c]);if(null!=e&&n)for(var c of n(e))r.indexOf(c)<0&&o.call(e,c)&&(a[c]=e[c]);return a})(e,["returnLogicData","defaultValue","check","alertErrorMsg","failStrategy"]);return s.failStrategy=i,{logicOptions:{returnLogicData:r,defaultValue:a,check:c,alertErrorMsg:l},cuteOptions:s}}const Oe=(e,t="",n={})=>{const{returnLogicData:o=!0,check:r=!0}=n,{statusCode:a=0}=e,c=e.data||e;if(a>=400)throw new Error(`服务器内部错误${a}`);const{status:l="0",message:i="接口格式错误",response:s,code:u,data:d,msg:m}=c,h=m||i;let p=null;if(p=o?d||s:c,!r)return p;if(void 0!==l&&"0"!=l){const e=new Error(h);throw e.status=l,e.url=t,e}if(void 0!==u&&0!=u)throw new Error(`url: ${t} ${h}`);return p},Le=(e,t)=>{const n=e.replace(/ /g,"");let o=`${n}`;return t?n.includes("?")?`${o}&${g.stringify(t)}`:`${o}?${g.stringify(t)}`:o};function De(e,t,n){if(!n)throw t.check&&t.alertErrorMsg&&pe(e.message),e;return e&&e.response&&e.response.status>=400&&pe(`服务器内部错误 ${e.response.status}`),n}async function xe(e,t,n,o={}){const{logicOptions:r,cuteOptions:c}=Ie(o),{returnLogicData:l,defaultValue:i="",check:s=!0}=r;try{const o=a(a({},Te),c);let r;const{isInnerMock:i,innerMockApis:u}=m();if(i&&u.includes(`${e} ${t}`)){const{mockImpl:o}=await ue((()=>__import__("./mockHttpService.3f22eea4.js")),void 0);if("get"!==e&&"post"!==e)throw new Error(`method[${e}] not implemented in mockHttpService`);r={statusCode:200,data:o()[e](t,n)}}else r="get"===e?await h[e](Le(t,n||""),"",o):await h[e](Le(t,""),n,o);return Oe(r,t,{returnLogicData:l,check:s})}catch(u){return De(u,o,i)}}async function ze(e,t,n,o={}){const{logicOptions:r,cuteOptions:c}=Ie(o),{returnLogicData:l,defaultValue:i="",check:s=!0}=r;try{const o=a(a({},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withCredentials:!0}),c);let r=n;if(ye(n)){r={};for(let e in n){const t=n[e];r[e]=ye(t)?JSON.stringify(t):t}}const i=await h[e](Le(t,""),g.stringify(r),o);return Oe(i,t,{returnLogicData:l,check:s})}catch(u){return De(u,o,i)}}var je={downloadFile:function(e,t={}){const n=document.createElement("form");if(n.style.display="none",n.action=e,n.method="post",document.body.appendChild(n),t)for(const o in t){const e=document.createElement("input");e.type="hidden",e.name=o;const r=t[o];e.value=ye(r)?JSON.stringify(r):r,n.appendChild(e)}n.submit(),n.remove()},get:async function(e,t,n){return xe("get",e,t,n)},put:async function(e,t,n){return xe("put",e,t,n)},post:async function(e,t,n){return xe("post",e,t,n)},xFormPost:async function(e,t,n={}){return ze("post",e,t,n)},xFormPut:async function(e,t,n={}){return ze("put",e,t,n)},postFormData:async function(e,t,n){const{logicOptions:o,cuteOptions:r}=Ie(n),{returnLogicData:a,defaultValue:c="",check:l=!0}=o,i=Le(e,""),s=new FormData;t&&Object.keys(t).forEach((e=>{const n=t[e];if(Object.prototype.hasOwnProperty.call(t,e)&&t[e])if(n instanceof File)s.append(e,n);else{const t=ye(n)?JSON.stringify(n):n;s.append(e,t)}}));const u=p.create({withCredentials:!0});try{const t=await u.post(i,s,r);return Oe(t,e,{returnLogicData:a,check:l})}catch(d){return De(d,n,c)}},multiGet:async function(e,t={}){const{logicOptions:n,cuteOptions:o}=Ie(t),{returnLogicData:r,defaultValue:c="",check:l=!0}=n;try{delete t.returnLogicData;const n=e.map((e=>Le(e,"")));return(await h.multiGet(n,a(a({},Te),o))).map(((e,t)=>Oe(e,n[t],{returnLogicData:r,check:l})))}catch(i){return De(i,t,c)}},multiPost:async function(e,t={}){const{logicOptions:n,cuteOptions:o}=Ie(t),{returnLogicData:r,defaultValue:c="",check:l=!0}=n;try{delete t.returnLogicData,e.forEach((e=>e.url=Le(e.url,"")));return(await h.multiPost(e,a(a({},Te),o))).map(((t,n)=>Oe(t,e[n].url,{returnLogicData:r,check:l})))}catch(i){return De(i,t,c)}}};function Pe(){console.log("call foo")}function Ae(){console.log("clear")}var Ue={DemoModel:{state:function(){return{num:1,desc:"this is a demo model!!!!!"}},reducer:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",aNormalMethod:function(e,t,n){console.log("for copy - ",n.dispatch)},changeDesc:function(e,t,n){let o=`module--${n.module} ${Date.now()}`;return e&&(o="string"==typeof e?e:`module--${n.module} ${e.currentTarget.nodeName} ${Date.now()}`),{desc:o}},fetchList:async function({current:e,pageSize:t}){const n=await je.get("api/todos");return console.log(e,t,n),{pageList:n,total:1e3}},foo:Pe,clear:Ae}),computed:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",revesedDesc:function(e){return e.desc.split("").reverse().join("")}}),lifecycle:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",mounted:function(e){e(Pe)},willUnmount:function(e){e(Ae)}})}};var Ve=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",doubleCount:function({value:e}){return 2*e}});function Fe(){console.log("call foo")}function Ne(){console.log("call clear")}var Re={Counter:{state:function(){return{value:0,bigValue:100,toInc:2}},computed:Ve,reducer:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",incrementBigValue:function(e,t){return{bigValue:t.bigValue+50}},incrementOne:function(e,t){return{value:t.value+1}},decrementOne:function(e,t){return{value:t.value-1}},increment:function(e,t){return{value:t.value+t.toInc}},incBy:function(e,t){return{value:t.value+e}},incrementAsync:async function(e,t,n){return await((e=1e3)=>new Promise((t=>setTimeout(t,e))))(),{value:t.value+t.toInc}},foo:Fe,clear:Ne}),lifecycle:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",mounted:function(e){e(Fe)},willUnmount:function(e){e(Ne)}})}};function $e(e=1e3){return new Promise((t=>setTimeout(t,e)))}function Be(){console.log("call foo")}function He(){return console.log("clear"),{value:1}}const We={DemoTodoList:{state:function(){return{value:0,bigValue:100,keyword:""}},computed:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",doubleCount:function({value:e}){return 2*e},formattedInput:function({keyword:e}){return`用户正在输入 ${e}`}}),reducer:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",forCopy:function(e,t,n){console.log("call ac.setState or ac.dispatch when needed",n.setState)},fetchList:async function({current:e,pageSize:t},n){const o=await async function(){return await $e(1e3),await je.get("/api/todo/list")}();return{pageList:o.list,total:o.total}},foo:Be,clear:He,addBig:function(e,t){const{bigValue:n}=t;return{bigValue:n+1}}}),lifecycle:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",mounted:function(e){e(Be)},willUnmount:function(e){e(He)}})}},Ke=f.makeUseModelWithSetup("DemoTodoList");f.makeUseModelWithSetupCuf("DemoTodoList");const Ge=f.makeUseModel("DemoTodoList");y(We);var qe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",doubleCount:function({value:e}){return 2*e}});function Je(){console.log("call foo")}function Xe(){console.log("clear")}var Ye={Home:{state:function(){return{value:0,bigValue:100}},computed:qe,reducer:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",forCopy:function(e,t,n){console.log("call ac.setState or ac.dispatch when needed",n.setState)},incrementBigValue:function(e,t){return{bigValue:t.bigValue+50}},increment:function(e,t){return{value:t.value+1}},decrement:function(e,t){return{value:t.value-1}},incrementByAmount:function(e,t){return{value:t.value+e}},incrementAsync:async function(e,t){return await((e=1e3)=>new Promise((t=>setTimeout(t,e))))(),{value:t.value+e}},foo:Je,clear:Xe}),lifecycle:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",mounted:function(e){e(Je)},willUnmount:function(e){e(Xe)}})}};const Qe={DemoCloned:Ue.DemoModel};b(a(a(a(a(a(a({},le),Re),Ue),Qe),Ye),We),{errorHandler:e=>{pe(e.message)},alwaysRenderCaller:!0,isStrict:!0});const Ze={position:"fixed",top:"48%",zIndex:"999999"};function et({style:e=Ze,des:t="left",onClick:n}){const o="left"===t?E.createElement(_,null):E.createElement(C,null);return E.createElement("div",{className:"ccpro-drawer__icon",style:e,onClick:()=>n&&n()},E.createElement("span",null,o))}"tnfe.github.io"===window.location.host&&localStorage.setItem("someBaseNameKey","vite-concent-pro/");const tt=localStorage.getItem("someBaseNameKey")||"";function nt(){return tt||""}function ot(){const{pathname:e}=window.location,t=nt();let n=e;if(t){const o=t.length+1;n=e.substr(o)}return n||(n="/"),n}function rt(e=!1,t=50){return{lockId:"init_lock",hasMoreMode:e,hasMore:!0,current:1,pageSize:t,total:0,list:[],loading:!1}}function at(e,t){return function(e,t,n){let o=e[t];return o||(o=e[t]=n),o}(e,t,rt())}function ct({tableId:e,toMod:t},n){const{meta:o}=n,r=at(o,e);var a;return null!=(a=t.pageSize)&&""!==a&&"number"!=typeof t.pageSize&&(t.pageSize=parseInt(t.pageSize,10)),function(e,t={}){Object.keys(t).forEach((n=>{e[n]=t[n]}))}(r,t),{meta:o}}async function lt({current:e,tableId:t,fetchFn:n},o,r){await r.dispatch(ct,{tableId:t,toMod:{loading:!0,current:e,lockId:Date.now()}}),await r.dispatch(it,{tableId:t,fetchFn:n})}async function it({tableId:e,fetchFn:t},n,o){const{meta:r}=n,{current:a,pageSize:c,lockId:l,list:i,hasMoreMode:s}=at(r,e),u=await t({current:a,pageSize:c,list:i});if(!u)return void(await o.dispatch(ct,{tableId:e,toMod:{loading:!1}}));const{pageList:d,page_list:m,total:h=0,hasMore:p=!0}=u,g=d||m||[];if(at(r,e).lockId!==l)return;const f=(a-1)*c;g.forEach(((e,t)=>{e&&(e.__seq=f+(t+1))}));let y=g;s&&(y=i.concat(g)),await o.dispatch(ct,{tableId:e,toMod:{list:y,total:h,hasMore:p,loading:!1}})}localStorage.getItem("someApiHostKey");const st={GeneralTable:{state:function(){return{meta:{}}},computed:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",doubleCount:function(e){}}),reducer:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",modTableMeta:ct,handlePageCurrentChange:lt,handleNextPage:async function({tableId:e,fetchFn:t},{meta:n},o){const{current:r}=at(n,e);await o.dispatch(lt,{current:r+1,tableId:e,fetchFn:t})},handlePageSizeChange:async function({tableId:e,pageSize:t,fetchFn:n},o,r){await r.dispatch(ct,{tableId:e,toMod:{loading:!0,pageSize:t,lockId:Date.now()}}),await r.dispatch(it,{tableId:e,fetchFn:n})},clearTable:function({tableId:e},t,n){n.dispatch(ct,{tableId:e,toMod:{list:[],total:0,loading:!1}})},fetchTableData:it}),lifecycle:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",mounted:function(e){},willUnmount:function(e){}})}},ut=f.makeUseModelWithSetup("GeneralTable");f.makeUseModelWithSetupCuf("GeneralTable"),f.makeUseModel("GeneralTable"),y(st);const dt=e=>{const{tid:t,fetchAfterMounted:n=!0,hasMoreMode:o=!1,fetchFn:r,pageSizeOptions:a=["50","100","200"]}=e.props,{ccUniqueKey:c}=e;if(!e.state.meta[t]){const n=parseInt(a[0],10)||50;e.state.meta[t]=rt(o,n)}e.on(["refreshTable",t],(async n=>{const o=n||r;await e.mr.clearTable({tableId:t},c),await e.mr.handlePageCurrentChange({tableId:t,current:1,fetchFn:o},c)})),e.on(["clearTable",t],(()=>{e.mr.clearTable({tableId:t},c)})),e.on(["refreshTableCurPage",t],(n=>{const o=n||r,a=e.state.meta[t];e.mr.handlePageCurrentChange({tableId:t,current:a.current,fetchFn:o},c)})),e.effect((()=>(n&&l(1),()=>e.dispatch("clearTable",{tableId:t},c))),[]);const l=n=>{const{fetchFn:o}=e.props;e.mr.handlePageCurrentChange({tableId:t,current:n,fetchFn:o},c)};return{handlePageCurrentChange:l,handelPageSizeChange:(n,o)=>{const{fetchFn:r}=e.props;e.mr.handlePageSizeChange({tableId:t,pageSize:o,fetchFn:r},c)},handleNextPage:()=>{const{fetchFn:n}=e.props;e.mr.handleNextPage({tableId:t,fetchFn:n},c)},pageSizeOptions:a}};function mt(e){const{state:t,settings:n}=ut(dt,{props:e}),{tid:o,columns:r,rowKey:a="id",scroll:c={x:"100%"},hasMoreMode:l=!1,disableBtnWhenNoMore:i,size:s}=e,{list:u,loading:d,current:m,total:h,pageSize:p,hasMore:g}=t.meta[o],{handelPageSizeChange:f,handlePageCurrentChange:y,handleNextPage:b,pageSizeOptions:_}=n;return E.createElement(E.Fragment,null,E.createElement(S,{rowKey:a,columns:r,dataSource:u,size:s,loading:d,pagination:!1,scroll:c}),E.createElement("div",{style:{height:"19px",width:"100%"}}),l?i&&!g?E.createElement(k,{disabled:!0,style:{width:"100%"}},"没有更多了"):E.createElement(k,{onClick:b,style:{width:"100%"}},"加载更多"):E.createElement(w,{onShowSizeChange:f,onChange:y,current:m,total:h,showSizeChanger:!0,pageSizeOptions:_,pageSize:p}))}var ht=E.memo(mt);function pt(e){const{mr:t}=e;return{columns:[{key:"id",dataIndex:"id",title:"id"},{key:"text",dataIndex:"text",title:"文案"},{key:"done",dataIndex:"done",title:"是否完成",render:e=>e?"done":"uncomplish"}],refreshTable:()=>{e.emit(["refreshTable","todoTable"])},fetchList:e=>t.fetchList(e)}}var gt=E.memo((function(){const{settings:e}=Ke(pt);return E.createElement("div",null,E.createElement(k,{id:"refreshBtn",onClick:e.refreshTable},"refresh"),E.createElement(ht,{tid:"todoTable",columns:e.columns,fetchFn:e.fetchList}))}));var ft=E.memo((function(){const{sync:e,state:t,mr:n}=Ge();return E.createElement("div",null,E.createElement(v,{onChange:e("keyword"),value:t.keyword}),E.createElement("span",{id:"bigValue"},t.bigValue),E.createElement(k,{id:"addBigBtn",onClick:n.addBig}))}));function yt(e){return{hiThere:()=>"hiThere",changeBigTo(t){e.setState({bigValue:t})}}}var bt=E.memo((function(e){return Ke(yt,{tag:"Dpt"}),E.createElement("div",null,E.createElement(ft,null),E.createElement(gt,null))}));function Et(e,t){const{desc:n}=t;if(n.length>8)return{desc:n.substr(0,8)}}async function _t(e,t,n){return await n.setState({loading:!0}),await Se(e,n),{loading:!1}}const Ct={SomeModule:{state:function(){return{desc:"I am an empty module",loading:!1}},computed:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",reversedDesc:function(e){return e.desc.split("").reverse().join("")}}),reducer:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",forCopy:function(e,t,n){console.log("call ac.setState or ac.dispatch when needed",n.setState)},tryCutDesc:Et,tryAsyncCutDesc:async function(e,t,n){await $e(666),await n.dispatch(Et)},innerLoadingTryAsyncCutDesc:async function(e,t,n){n.dispatch(_t,[Et,e])},loading:_t,initState:function(){console.log("call initState")},clear:function(){console.log("call clear")}}),lifecycle:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",mounted:function(e){},willUnmount:function(e){}}),ghosts:["loading"]}};f.makeUseModelWithSetup("SomeModule"),f.makeUseModelWithSetupCuf("SomeModule");const St=f.makeUseModel("SomeModule");y(Ct);const wt=E.memo((()=>{const{state:e,sync:t}=St();return E.createElement("div",null,"请输入的描述 ",E.createElement(v,{value:e.desc,onChange:t("desc")}))})),kt=E.memo((()=>{const{moduleComputed:e}=St();return E.createElement(M,{message:e.reversedDesc,type:"success"})}));var vt=E.memo((function(e){const{state:t,mr:n,mrg:o}=St();return E.createElement("div",null,E.createElement(T,null,t.desc),E.createElement(I,{spinning:t.loading},E.createElement(k,{onClick:n.tryCutDesc},"裁减描述"),E.createElement(k,{onClick:n.innerLoadingTryAsyncCutDesc},"内部函数包裹loading"),E.createElement(k,{onClick:o.loading.tryAsyncCutDesc},"使用ghost功能复用loading函数（推荐）"),E.createElement(wt,null),E.createElement(kt,null)))}));const Mt=E.lazy((()=>ue((()=>__import__("./index.ab04f413.js")),["./assets/index.ab04f413.js","./assets/vendor.6238d0f8.js"]))),Tt=E.lazy((()=>ue((()=>__import__("./index.6f001199.js")),["./assets/index.6f001199.js","./assets/index.8aca9244.css","./assets/vendor.6238d0f8.js"]))),It=[{showInSider:""!==window.location.port,label:"todoList",path:"/todolist",Component:bt},{label:"template",path:"/template",Component:vt},{label:"分步表单",path:"/step-form",Component:E.lazy((()=>ue((()=>__import__("./index.5342facd.js")),["./assets/index.5342facd.js","./assets/index.61ae3218.css","./assets/vendor.6238d0f8.js"])))},{key:"someExamples",label:"一些示例",Icon:O,children:[{Icon:L,label:"简单列表",path:te.DEMO,Component:Mt,isHomePage:!0},{Icon:_,label:"计数器",path:"/somelist",Component:Tt},{Icon:_,label:"useSteup",path:te.DEMO_USE_SETUP,Component:E.lazy((()=>ue((()=>__import__("./index.4c213d97.js")),["./assets/index.4c213d97.js","./assets/vendor.6238d0f8.js"])))},{Icon:D,label:"useEdit",path:"/edit_demo",Component:E.lazy((()=>ue((()=>__import__("./index.8675ceb3.js")),["./assets/index.8675ceb3.js","./assets/index.cda7101c.css","./assets/vendor.6238d0f8.js"])))}]}];const Ot=function(){const e={},t={};let n="";return It.forEach((o=>{const r=o;if(r.children)return void r.children.map((o=>{t[o.path]=r,e[o.path]=o,o.isHomePage&&(n=o.path,t["/"]=r,e["/"]=o)}));const a=o;e[a.path]=a,a.isHomePage&&(e["/"]=a,n=a.path)})),{path2menuGroup:t,path2menuItem:e,homePageFullPath:n}}(),Lt=Ot.path2menuGroup,Dt=Ot.path2menuItem,xt=Ot.homePageFullPath,zt=function(){const e=[],t=t=>{e.push(t)};return It.forEach((e=>{const n=e;if(n.children)return void n.children.forEach(t);t(e)})),e}();var jt="_asyncButton_15sup_33 _button_15sup_1";function Pt(e){return E.createElement("button",a({},e),e.children)}function At(e){return E.createElement(Pt,a({className:jt},e))}function Ut({children:e="",type:t="horizon",height:n="16px",width:o="28px",style:r={}}){const c=a({display:"inline-block",width:o,height:n},r);return"vertical"===t&&(c.display="block"),E.createElement("div",{style:c},e)}function Vt(e){return E.createElement(Ut,a({},a({width:"8px"},e)))}function Ft(e){return E.createElement(Ut,a({},a({type:"vertical"},e)))}function Nt(){return E.createElement("span",{style:{display:"none"}})}var Rt=E.memo((function(){return E.createElement("h1",null," not found")}));var $t="_header_1yohq_1",Bt="_headerSetting_1yohq_6",Ht="_userIconWrap_1yohq_14",Wt="_siderWrap_1yohq_26",Kt="_contentWrap_1yohq_35";const{Content:Gt}=x,qt=()=>E.createElement("div",null,"Loading...");class Jt extends E.Component{constructor(){super(...arguments),this.ctx={},this.errOccurred=!1,this.state={err:"",curMenus:[]},this.changeNavData=()=>{const e=ot(),t=Dt[e];if(t){const n=[];n.unshift(t);const o=Lt[e];o&&n.unshift(o),this.setState({curMenus:n})}},this.renderCrashTip=()=>E.createElement(x,{style:this.ctx.globalComputed.contentLayoutStyle},E.createElement("h1",{style:{color:"red",padding:"64px"}},"当前路由页面崩溃，请联系 xxx开发者 做进一步跟踪，如果是开发者，可打开console查看具体错误, 如想继续访问当前页面，可刷新留浏览器重试。")),this.renderNavBreadcrumb=()=>E.createElement(z,{style:{paddingLeft:"16px",height:"32px",lineHeight:"32px",backgroundColor:"white"}},this.state.curMenus.map(((e,t)=>{const n=e.Icon?E.createElement(e.Icon,null):"";return E.createElement(z.Item,{key:t},n,E.createElement(Vt,null),e.label)}))),this.makeCompWrap=e=>t=>{const{showBreadcrumb:n=!0,setContentLayout:o=!0}=e;let r="";n&&(r=this.renderNavBreadcrumb());const{contentLayoutStyle:c}=this.ctx.globalComputed;return o?E.createElement(x,{style:c},r,E.createElement(x,{style:{padding:"24px"}},E.createElement(Gt,{className:Kt},E.createElement(e.Component,a({},t))))):E.createElement(x,{style:c},r,E.createElement(e.Component,a({},t)))},this.cachedUi={uiRoutes:null,uiHomeRoute:null},this.buildRouteUi=()=>{if(this.cachedUi.uiRoutes)return this.cachedUi;let e=null;const t=zt.map((t=>{t.isHomePage&&(e=t);const n=this.makeCompWrap(t);return E.createElement(j,{key:t.path,exact:t.exact,path:t.path,component:n})}));let n="";if(e){const t=this.makeCompWrap(e);n=E.createElement(j,{exact:!0,path:"/",component:t})}return this.cachedUi={uiRoutes:t,uiHomeRoute:n},this.cachedUi}}$$setup(){this.ctx.effect((()=>{this.changeNavData()}),[]),this.ctx.on(P.getUrlChangedEvName(),((e,t,n)=>{console.log(e,t,n),this.errOccurred&&(this.errOccurred=!1,this.setState({err:""})),this.changeNavData()}))}componentDidCatch(e){this.errOccurred=!0,this.setState({err:e.message})}render(){if(this.errOccurred)return this.renderCrashTip();const{uiRoutes:e,uiHomeRoute:t}=this.buildRouteUi();return E.createElement(E.Suspense,{fallback:E.createElement(qt,null)},E.createElement(A,null,e,t,E.createElement(j,{component:Rt})))}}var Xt=U(i.MODULE_DEFAULT)(Jt);const{Sider:Yt}=x,{SubMenu:Qt,Item:Zt}=V,{webHeaderImg:en,siderWidth:tn,siderWidthPx:nn}=ne;function on(){var e;let t=ot();"/"===t&&(t=xt);return{selectedKeys:[t],openKeys:[null==(e=Lt[t])?void 0:e.key]}}function rn(e){e.initState(on);return{changeSelectedKeys:({selectedKeys:t})=>{e.setState({selectedKeys:t})},openMenus:t=>{e.setState({openKeys:t})},renderMenuItem:e=>{const{showInSider:t=!0,Icon:n,path:o,label:r}=e;if(!t)return"";const a=n?E.createElement(n,null):"";return E.createElement(Zt,{key:o},E.createElement(F,{to:o},a,r))},logoStyle:{width:tn-30,position:"fixed",left:19,top:10}}}var an=E.memo((function(){const{settings:e,state:t,globalState:n}=u({setup:rn,tag:"Sider"});return E.createElement(Yt,{width:nn,className:Wt,theme:n.siderTheme},E.createElement("img",{style:e.logoStyle,src:en}),E.createElement(V,{theme:n.siderTheme,onSelect:e.changeSelectedKeys,onOpenChange:e.openMenus,mode:"inline",selectedKeys:t.selectedKeys,openKeys:t.openKeys,style:{height:"100%",borderRight:0}},It.map((t=>{const n=t;if(n.children){const t=n.Icon?E.createElement(n.Icon,null):"";return E.createElement(Qt,{key:n.key,className:"siderSubMenu",title:E.createElement("span",null," ",t,n.label," ")},n.children.map((t=>e.renderMenuItem(t))))}const o=t;return e.renderMenuItem(o)}))))}));const cn=()=>E.createElement("div",{style:{textAlign:"center",padding:"5px"}},"Powered by ",E.createElement("a",{href:"https://github.com/concentjs/concent",target:"blank"},"Concent 2021"));function ln({color:e,onChangeComplete:t,onWebsiteColorChange:n,siderThemeChecked:o,onSiderThemeChange:r,headerThemeChecked:a,onHeaderThemeChange:c,innerMockChecked:l,onInnerMockChange:i}){return E.createElement("div",{style:{padding:"12px 28px"}},E.createElement(T,{color:"geekblue"},"站点主题设置："),E.createElement(Ft,null),E.createElement(B,{color:e,onChange:n,onChangeComplete:t}),E.createElement(Ft,null),E.createElement("div",null,E.createElement(T,{color:"geekblue"},"边栏设置："),E.createElement(Ut,null),E.createElement(H,{checkedChildren:"关闭暗黑边栏",unCheckedChildren:"开启暗黑边栏",checked:o,onChange:r})),E.createElement(Ft,null),E.createElement("div",null,E.createElement(T,{color:"geekblue"},"顶栏设置："),E.createElement(Ut,null),E.createElement(H,{checkedChildren:"关闭暗黑顶栏",unCheckedChildren:"开启暗黑顶栏",checked:a,onChange:c})),E.createElement(Ft,null),E.createElement("div",null,E.createElement(T,{color:"geekblue"},"mock设置："),E.createElement(Ut,null),E.createElement(H,{checkedChildren:"关闭innerMock",unCheckedChildren:"开启innerMock",checked:l,onChange:i})))}function sn(e){const{globalReducer:t}=e;return{onWebsiteColorChange(e){t.changeThemeColor(e.hex)},onSiderThemeChange(e){t.switchSiderTheme(e)},onHeaderThemeChange(e){t.switchHeaderTheme(e)},onInnerMockChange(e){t.changeIsInnerMock(e)}}}var un=E.memo((function(){const{globalState:e,globalComputed:t,settings:n}=u({setup:sn,tag:"Header"}),o=E.createElement(ln,{color:e.themeColor,onWebsiteColorChange:n.onWebsiteColorChange,headerThemeChecked:t.headerThemeSwitchChecked,onHeaderThemeChange:n.onHeaderThemeChange,siderThemeChecked:t.siderThemeSwitchChecked,onSiderThemeChange:n.onSiderThemeChange,innerMockChecked:e.isInnerMock,onInnerMockChange:n.onInnerMockChange,onChangeComplete:n.onWebsiteColorChange});return E.createElement(x.Header,{className:$t,style:t.headerStyle},E.createElement("div",{className:Ht},E.createElement(N,{size:40,src:e.uesrIcon}),E.createElement(Ut,{width:"8px"}),e.userName),E.createElement(R,{placement:"bottomLeft",content:o,title:"主题设置",trigger:"click"},E.createElement($,{className:Bt,style:{color:t.headerStyle.color}})))}));function dn({effect:e,globalReducer:t,globalState:n,globalComputed:o}){return e((()=>{t.prepareApp()}),[]),{renderContentArea(){const{contentLayoutStyle:e}=o;let t="";return t=n.isAppReady?E.createElement("div",{style:{minHeight:"calc(100vh - 120px)"}},E.createElement(Xt,null)):E.createElement(x,{style:a(a({},e),{padding:"64px"})},E.createElement(K,{avatar:!0,paragraph:{rows:4}}),E.createElement(K,{avatar:!0,paragraph:{rows:4}}),E.createElement(I,null,E.createElement("div",{style:{textAlign:"center"}},"系统初始化中..."))),t}}}function mn(){const{globalReducer:e,globalState:t,globalComputed:n,settings:o}=we(i.MODULE_DEFAULT,{setup:dn,tag:"App"});return E.createElement(x,null,E.createElement(x,null,E.createElement(un,null)),E.createElement(x,null,E.createElement(et,{des:n.siderIconDes,onClick:e.toggleSiderVisible}),t.siderVisible&&E.createElement(an,null)),o.renderContentArea(),E.createElement(cn,null))}var hn=E.memo((()=>E.createElement(W,{basename:`/${nt()}`},E.createElement(P.ConnectRouter,{callUrlChangedOnInit:!0},E.createElement(mn,null)))));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),G.render(E.createElement(hn,null),function(e="root"){let t=document.getElementById(e);return t||(t=document.createElement("div"),t.id=e,document.body.appendChild(t)),t}("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()})).catch((e=>{console.error(e.message)}));export{At as A,Ut as B,X as C,q as D,Nt as E,mt as G,Ft as V,J as a,ht as b,ve as c,$e as d,ae as e,pe as f,Se as g,Ee as h,_e as i,ke as j,Me as k,fe as o,be as s,we as u,ge as w};
