import{ab as e,d as t,e as n,R as o,aa as a,E as c,$ as s,I as l,B as r}from"./vendor.94815bd5.js";import{d as i,c as u}from"./index.fa839ebf.js";function d(e,t){const{desc:n}=t;if(n.length>8)return{desc:n.substr(0,8)}}async function m(e,t,n){return await n.setState({loading:!0}),await i(666),await u(e,n),{loading:!1}}const g={SomeModule:{state:function(){return{desc:"I am an empty module",loading:!1}},computed:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",reversedDesc:function(e){return e.desc.split("").reverse().join("")}}),reducer:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",forCopy:function(e,t,n){console.log("call ac.setState or ac.dispatch when needed",n.setState)},tryCutDesc:d,tryAsyncCutDesc:async function(e,t,n){await i(666),await n.dispatch(d)},innerLoadingTryAsyncCutDesc:async function(t,n,o){const a=e(d,t);o.dispatch(m,a)},loading:m,initState:function(){console.log("call initState")},clear:function(){console.log("call clear")}}),lifecycle:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",mounted:function(e){},willUnmount:function(e){}}),ghosts:["loading"]}};t.exports.makeUseModelWithSetup("SomeModule"),t.exports.makeUseModelWithSetupCuf("SomeModule");const f=t.exports.makeUseModel("SomeModule");n(g);const p=o.memo((()=>{const{state:e,sync:t}=f();return o.createElement("div",null,"请输入的描述 ",o.createElement(a,{value:e.desc,onChange:t("desc")}))})),y=o.memo((()=>{const{moduleComputed:e}=f();return o.createElement(c,{message:e.reversedDesc,type:"success"})}));var S=o.memo((function(e){const{state:t,mr:n,mrg:a}=f();return o.createElement("div",null,o.createElement(s,null,t.desc),o.createElement(l,{spinning:t.loading},o.createElement(r,{onClick:n.tryCutDesc},"裁减描述"),o.createElement(r,{onClick:n.innerLoadingTryAsyncCutDesc},"内部函数包裹loading"),o.createElement(r,{onClick:a.loading.tryAsyncCutDesc},"使用ghost功能复用loading函数（推荐）"),o.createElement(p,null),o.createElement(y,null)))}));export default S;
